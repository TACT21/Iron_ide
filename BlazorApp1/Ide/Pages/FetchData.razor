@page "/fetchdata"
@using Syncfusion.Blazor.RichTextEditor
@using Syncfusion.Blazor.Buttons
@using Syncfusion.Blazor.Inputs
@inject IJSRuntime JSRuntime;
@inherits Coder

<PageTitle>Weather forecast</PageTitle>

<!---->
<div class="session">
    <div class="control">
        <SfButton >New_file</SfButton>
        <InputFile class="input" id="_usr_input"></InputFile><label for="_usr_input" CssClass="e-flat">Load .py file</label>
    </div>
    <!--ConstructionOptions="EditorConstructionOptions"-->
     <MonacoEditor Id="any-id-string"  />
    @inline
    <MonacoEditor Id="any-id-string" />
    <SfButton CssClass="e-flat" @onclick ="@Mold" IconCss="e-icons e-play">play</SfButton><br/>
    @if (debug)
    {
        @molding
    }
    <div class="container">
        <p class="bottom-left">@((MarkupString)console)</p>
    </div>
    <div style="display:flex">@q<SfMaskedTextBox @ref="@maskedTextBox"></SfMaskedTextBox><SfButton CssClass="e-flat" @onclick ="@Input" IconCss="e-icons e-play">Submit</SfButton></div>
</div>

<style>
       .input{
           display:none;
       }
       .container {
	    position: relative;
	    width: 100%;
	    height: 30vh;
        overflow-y:scroll;
	    background: #000;
}

.container p {
	color: #FFF;
	padding: 0 8px;
	margin: 0;
}

.bottom-left {
	position: absolute;
	bottom: 0;
	left: 0;
}
</style>

@code {
    /*protected override async void OnAfterRender(bool firstRender)
    {
        if (firstRender)
        {
            var module = await JSRuntime.InvokeAsync<IJSObjectReference>("import", "valuepool.js");
            await module.InvokeVoidAsync("Wake_up_monaco");
        }
    }*/
    /// <summary>
    /// The function to Initialization Monaco editor
    /// </summary>
    /*private StandaloneEditorConstructionOptions EditorConstructionOptions(MonacoEditor editor)
        {
	        return new StandaloneEditorConstructionOptions
	        {
		        AutomaticLayout = true,
		        Language = "python",
		        Value = "function xyz() {\n" +
				        "   console.log(\"Hello world!\");\n" +
				        "}"
	        };
        }*/
}
