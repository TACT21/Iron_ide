<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="utf-8" />
    <title>IronPython</title>
    <link rel="icon" href="rogo.png" sizes="any" />
    <script>
        //URL Params Manager
        const params = new URLSearchParams(document.location.search.substring(1));
        if(!(params.get("projectId"))){
            alert("プロジェクトIDが設定されていません。")
            document.location = document.location.origin + "/"
        }
        document.getElementById("chat").src = (document.getElementById("chat").src + "?projectId=" + params.get("projectId"));
    </script>
    <script src="./scripts/cowork.js"></script>
    <script type="module" src="./scripts/file_manager_cowork.js"></script>
    <script type="module" src="./scripts/cowork_prjdetail.js"></script>
    <script src="../shered/scripts/page_caller.js"></script>
    
    <link rel="stylesheet" href="../shered/styles/file_piker.css">
    <link rel="stylesheet" href="../shered/styles/gernal.css">
    <link rel="stylesheet" href="./style/co_editor.css">
    <style>
        .prompt {
            width: 100%;
            height: 300px;
            position: fixed;
            bottom: 0;
            z-index: 1000;
        }
        html{
            overflow: hidden;
        }
    </style>
    
    <script>
        function Rename(){
            window.IronIde.Rename();
        }
        function Delete(){
            window.IronIde.Delete();
        }
        function newFileSaver(){
            window.IronIde.newFileSaver()
        }
        function chengeFile(e){
            window.IronIde.chengeFile(e);
        }
        function EditMd(){
            window.IronIde.EditMd();
        }
    </script>
</head>
<body>
    <section class="Header">
        <div style="display: none;">
            <button id="Btnfile" onclick="PaletChenge('Filer')"></button>
            <button id="Btnchat" onclick="PaletChenge('chat')"></button>
            <button id="Btnwork" onclick="PaletChenge('projectDetail')"></button>
        </div>
        <div class="comand_pallet warp">
            <div class="btns comand_pallet warp">
                <label class="comand_pallet item" for="Btnfile"><img src="../img/7.jpg" alt="Upload" /></label>
                <label class="comand_pallet item" for="Btnchat"><img src="../img/6.jpg" alt="Upload" /></label>
                <label class="comand_pallet item" for="Btnwork"><img src="../img/8.jpg" alt="Upload" /></label>
            </div>
        </div>
    </section>
    <section class="debug_comands warp">
        <div class="comands">
            <button class="debug_comands item" onclick="EngineCall()"><span>Run</span></button>
        </div>
        <div class="names">
            <input type="text" id="fileName">
            <button onclick="Rename()">Rename</button>
            <button onclick="Delete()">Delete</button>
        </div>
        <div class="login">
        </div>
    </section>
    <section id="Palet">        
        <article id="Filer">
            <div class="comand_pallet hide">
                <input type="file" class="comand_pallet item hide" id="userfile"/>
                <input type="button" class="comand_pallet item" id="newFileSaverInput" onclick="newFileSaver()"/>
            </div>
            <div class="comand_pallet warp">
                <label class="comand_pallet item" for="userfile"><img src="../img/3.jpg" alt="Upload" /></label>
                <label class="comand_pallet item" for="newFileSaverInput"><img src="../img/5.jpg" alt="New File" /></label>
            </div>
            <div class="comand_pallet overlay"></div>
            <div id="FileList" class="files list warp">
            </div>
        </article>
        <iframe id="chat" frameborder="0" src="../chat/chat.html"></iframe>
        <article id="projectDetail">
            <div id="projectId"></div>
            <div class="detail btns warp">
                <button class="detail btn" id="examBtn" onclick="window.IronIde.compere()">Compere</button>
                <button class="detail btn" onclick="EditMd()">Edit</button>
            </div>
        </article>
    </section>
    <iframe id="editor" frameborder="0" class="edit" src="./cowork_editor.html"></iframe>
    <section id="prompt" class="prompt hide">
        <button onclick="EngineDel()" id="EngineStoper">Stop</button><br>
    </section>
</body>
</html>